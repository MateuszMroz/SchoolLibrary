<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
        'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>

<mapper namespace="com.mrozm.schoollibrary.auth.AuthRepository">

    <insert id="save" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO student (firstname, lastname, email, pass, role)
        VALUES (#{firstname}, #{lastname}, #{email}, #{pass}, #{role})
    </insert>

    <select id="findByEmail" parameterType="string"
            resultType="com.mrozm.schoollibrary.auth.model.entity.Student">
        SELECT id, firstname, lastname, email, pass, role
        FROM student
        WHERE email = #{email}
    </select>

</mapper>
